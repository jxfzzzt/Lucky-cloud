spring:
  cloud:
    gateway:
      server:
        webflux:
          routes:
            - id: im-connect # 长连接服务  TODO 暂时放在这里,后面分离websocket网关时 请移除
              uri: lb:ws://im-connect
              predicates:
                - Path=/im/**

            - id: im-chat # 业务服务
              uri: lb://im-chat
              predicates:
                - Path=/chat/**
              filters:
                - StripPrefix=1

            - id: im-auth # 认证服务
              uri: lb://im-auth
              predicates:
                - Path=/auth/**
              filters:
                - StripPrefix=1

            - id: im-database # 数据库服务
              uri: lb://im-database
              predicates:
                - Path=/database/**
              filters:
                - StripPrefix=1

            - id: im-leaf # 分布式ID服务
              uri: lb://im-leaf
              predicates:
                - Path=/gen/**
              filters:
                - StripPrefix=1

            - id: im-platform # 平台服务
              uri: lb://im-platform
              predicates:
                - Path=/plat/**
              filters:
                - StripPrefix=1

            - id: im-oss # 文件服务
              uri: lb://im-oss
              predicates:
                - Path=/oss/**
              filters:
                - StripPrefix=1

            - id: im-lbs # 定位服务
              uri: lb://im-lbs
              predicates:
                - Path=/lbs/**
              filters:
                - StripPrefix=1

            - id: im-wallet # 钱包服务
              uri: lb://im-wallet
              predicates:
                - Path=/wallet/**
              filters:
                - StripPrefix=1

            - id: im-logging # 日志服务
              uri: lb://im-logging
              predicates:
                - Path=/log/**
              filters:
                - StripPrefix=1